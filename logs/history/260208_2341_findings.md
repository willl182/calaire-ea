# Technical Finding / Milestone: Plan PMI con Estrategia AI-Driven

**Context**: Implementación de artefactos de gestión de proyectos PMI para CALAIRE-EA con integración IA

## El Discovery

Se creó un plan integral de 7 fases para implementar 10 artefactos PMI siguiendo estándares PMBOK, integrando estrategia AI-Driven que conecta Logseq (captura) con OpenCode (procesamiento), AppSheet (control móvil) y Pandoc (publicación). El stack tecnológico de CALAIRE-APP fue verificado y corregido de Python a R/Shiny.

## Key Technical Decisions

### 1. Stack Tecnológico CALAIRE-APP Validado

**Evidencia**: `docs/docs_sgc/MANUAL_COMPLETO_PT_APP.md` confirma:

| Componente | Tecnología | Versión |
|-----------|-----------|---------|
| Framework Web | Shiny | R 4.1.0+ |
| Paquete Cálculos | ptcalc | Local R package |
| Testing | testthat | Estándar R packages |
| Documentación | Roxygen2 | Estándar R packages |
| Linting | lintr | Code quality R |

### 2. Estructura de Artefactos PMI

**Ubicación**: `docs/pm/` (nueva carpeta dedicada)

| Artefacto | Formato | Integración |
|-----------|---------|-------------|
| Project Charter | Markdown → Docx (Pandoc) | Plantilla INM/UNAL |
| EDT/WBS | Mermaid (gráfico) | Visualizable en Logseq |
| Cronograma | Mermaid Gantt | Fuente CSV para AppSheet |
| Registro Riesgos | Markdown + CSV | Semáforo móvil en AppSheet |
| Presupuesto | Markdown (placeholder) | Fuera de alcance técnico |

### 3. Estrategia AI-Driven Implementada

**Flujo de Trabajo**:

```
Logseq (Captura diaria)
    ↓ OpenCode (minería y procesamiento)
CSV Bridge (data/)
    ↓ Sincronización
AppSheet (Control móvil)
    ↑ Documentación formal
docs/pm/ (Artefactos PMI)
```

**Scripts de Automatización**:

| Script | Propósito | Tecnología |
|--------|-----------|-----------|
| `export_project_charter.sh` | Pandoc: MD → Docx | Bash + Pandoc |
| `extract_deadlines.py` | Minería DEADLINE del grafo | Python |
| `sync_appsheet.sh` | Sincronización CSV ↔ Drive | Bash |
| `pre_commit_audit_r.sh` | Git hook: auditoría código R | Bash + R |

### 4. Fase 7: Pruebas Unitarias para CALAIRE-APP

**Stack**: R (testthat)

**Tests a Implementar**:

| Test | Función | Referencia |
|------|---------|------------|
| `test-algoritmo_a.R` | Algoritmo A robusto | ISO 13528 Anexo C |
| `test-homogeneity.R` | Homogeneidad/estabilidad | ISO 13528 Sección 9 |
| `test-scores.R` | Puntajes (z, z', zeta, En) | ISO 13528 Sección 10 |

**Comando Ejecución**: `devtools::test()`

**Git Hook Pre-Commit**:
- Verifica documentación (Roxygen2)
- Linting (lintr)
- Valida fórmulas estadísticas críticas

## Correcciones Aplicadas

Se corrigieron 5 archivos con referencias incorrectas a "Python":

| Archivo | Línea | Antes | Después |
|---------|-------|--------|---------|
| `pages/CALAIRE-APP.md` | 33 | "Lenguaje: Python 3" | "Lenguaje: R 4.1.0+ (Shiny)" |
| `docs/pm_guia_lista.md` | 29 | "App Python" | "CALAIRE-APP: R/Shiny" |
| `docs/proyecto.md` | 85 | "Tecnología: Python 3" | "Tecnología: R 4.1.0+ (Shiny)" |
| `journals/2026_01_30.md` | 110 | "Retomar Python2" | "Retomar desarrollo (R/Shiny + ptcalc)" |
| `logs/plans/260208_2318_plan_pm-ia-artefactos.md` | Fase 7 | Stack Python (pytest) | Stack R (testthat) |

## Key Files Affected

**Archivos Creados:**
- `logs/plans/260208_2318_plan_pm-ia-artefactos.md` - Plan completo 7 fases, 28 artefactos

**Archivos Modificados:**
- `pages/CALAIRE-APP.md` - Stack tecnológico actualizado
- `docs/pm_guia_lista.md` - EDT ajustada
- `docs/proyecto.md` - Tecnología actualizada
- `journals/2026_01_30.md` - Contexto corregido

**Archivos de Referencia:**
- `docs/pm_roadmap.md` - Análisis brechas PMI
- `docs/pm_lista.md` - Lista documentos prioritarios
- `docs/pm_guia_lista.md` - Guía elaboración artefactos
- `docs/pm_ai_plan.md` - Estrategia IA-Driven
- `docs/docs_sgc/MANUAL_COMPLETO_PT_APP.md` - Documentación técnica (evidencia stack R/Shiny)

## Estimación de Esfuerzo

| Fase | Artefactos/Scripts | Esfuerzo |
|------|-------------------|-----------|
| Fase 1: Infraestructura | 3 + 1 | ~1.75 horas |
| Fase 2: Planificación | 6 + 1 | ~3.25 horas |
| Fase 3: Riesgos/Calidad | 3 + 1 | ~1.5 horas |
| Fase 4: Monitoreo | 3 + 1 | ~1.1 horas |
| Fase 5: Integración | 3 | ~30 min |
| Fase 6: AppSheet | 3 + 1 | ~2 horas |
| Fase 7: Tests (CONDICIONAL) | 7 | ~3 horas |
| **Total (1-6)** | **25** | **~10 horas** |
| **Total (1-7)** | **32** | **~13 horas** |

**Nota**: Fase 7 es CONDICIONAL, requiere migración de repositorio CALAIRE-APP a GitHub.
