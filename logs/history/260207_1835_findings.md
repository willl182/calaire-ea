# Technical Finding: Indentación con Tabs y Sintaxis Estándar en Logseq

**Context**: Reestructuración Cronograma Prueba Piloto - Fase 3

## The Discovery

Durante la implementación de la Fase 3 (actualización de MOCs principales), se identificaron problemas críticos de sintaxis Logseq que afectan la estructura del grafo.

**Problemas identificados:**

1. **Indentación con espacios en lugar de tabs**: Logseq requiere tabs para la jerarquía de bloques. Los bloques hijos con espacios quedan fuera de la estructura y no se reconocen en consultas.

2. **Triple corchetes no estándar**: Uso de `[[[TECH] Ronda Piloto]]` en lugar de la sintaxis estándar `[[TECH] Ronda Piloto]`.

3. **Inconsistencia de enlaces entre archivos**: `[[Ronda 1 (CANCELLED)]]` vs `[[Ronda 1]]` creando páginas distintas o enlaces rotos.

## Soluciones Aplicadas

### 1. Normalización de indentación a tabs

**Sed commands aplicados:**

Para `pages/Prueba Piloto.md`:
```bash
sed -i 's/^    - /\t- /g' "pages/Prueba Piloto.md"
sed -i 's/^    \[\[/\t[[/g' "pages/Prueba Piloto.md"
```

Para `pages/SIATA.md`:
```bash
sed -i 's/^  type::/\ttype::/g' "pages/SIATA.md"
sed -i 's/^  status::/\tstatus::/g' "pages/SIATA.md"
sed -i 's/^  institution::/\tinstitution::/g' "pages/SIATA.md"
sed -i 's/^  location::/\tlocation::/g' "pages/SIATA.md"
sed -i 's/^    - /\t- /g' "pages/SIATA.md"
```

### 2. Corrección de triple corchetes a doble

Antes:
```markdown
- `[[[TECH] Ronda Piloto]]`
- `[[[TECH] Ronda - Confirmación Lab]]`
```

Después:
```markdown
- `[[TECH] Ronda Piloto]`
- `[[TECH] Ronda - Confirmación Lab]`
```

### 3. Normalización de enlaces

Cambiado de `[[Ronda 1 (CANCELLED)]]` a `[[Ronda 1]]` para mantener consistencia con las páginas existentes que ya tienen la etiqueta "(CANCELLED)" en el título.

## Key Files Affected

- `pages/Prueba Piloto.md` - Indentación corregida, triple corchetes corregidos, enlaces normalizados
- `pages/SIATA.md` - Indentación corregida, enlaces normalizados
- `logs/CURRENT_SESSION.md` - Aprendizajes documentados en sección "Indentación con Tabs en Logseq" y "Enlaces Estándar en Logseq"
- `logs/plans/260207_1741_plan_reestructuracion-cronograma-piloto.md` - Hallazgos de Fase 3 documentados

## Learnings to Preserve

1. **Indentación con tabs**: Logseq requiere tabs, no espacios, para la jerarquía de bloques. Los espacios rompen la estructura y afectan consultas.

2. **Sintaxis estándar de enlaces**: Usar siempre `[[Page]]` o `[[Page|Display Text]]`. El triple corchete `[[[Page]]]` no es sintaxis estándar.

3. **Consistencia de enlaces**: Mantener consistencia de nombres de página entre archivos. Si una página ya existe con un nombre, usar ese nombre en todos los enlaces.

4. **Verificación con cat -A**: Usar `cat -A filename.md` para visualizar tabs (`^I`) vs espacios visibles en el archivo.

5. **Sed commands útiles**:
   - `sed -i 's/^    /\t/g' filename.md` - Reemplaza 4 espacios al inicio por tab
   - `sed -i 's/^  \t/\t\t/g' filename.md` - Reemplaza 2 espacios + tab por 2 tabs

## Observaciones Pendientes

- **Encoding issue**: Detectado problema de encoding en ambos archivos (caracteres acentuados no se muestran correctamente: M-CM-3, M-CM--n, etc.). No se corrigió en esta fase para evitar cambios mayores, pero debe ser monitoreado y corregido en el futuro.
