# Technical Finding: Infraestructura para Informes Ejecutivos

**Context**: Preparación de entorno para generación de informes ejecutivos en el proyecto CALAIRE-EA

## The Discovery

Para generar informes ejecutivos con diagramas Mermaid visualizados en Word, se requirió la instalación de herramientas complementarias y la creación de una estructura de directorios dedicada.

1. **mermaid-cli v11.12.0**: Herramienta de línea de comandos para renderizar diagramas Mermaid a formatos de imagen (PNG, SVG). Se instaló vía npm globalmente. Incluye puppeteer/chromium como dependencia automáticamente.

2. **Estructura docs/informes/**: Nueva carpeta dedicada para almacenamiento de informes ejecutivos, separándolos de documentación técnica (normas ISO, cartas, cronogramas).

## Comandos Clave

```bash
# Instalación mermaid-cli
npm install -g @mermaid-js/mermaid-cli

# Verificación
mmdc --version
# Output: 11.12.0

# Creación directorio
mkdir -p docs/informes

# Comandos pendientes para Fase 2
mmdc -i docs/gantt.md -o docs/informes/gantt_piloto.png
mmdc -i docs/timeline.md -o docs/informes/timeline_piloto.png

# Comando pendiente para Fase 4
pandoc -o docs/informes/informe_ejecutivo_260208.docx docs/informes/informe_ejecutivo_260208.md
```

## Key Files Affected

- `logs/plans/260208_0831_plan_informe-ejecutivo-ene-feb26.md` - Plan de ejecución creado
- `docs/informes/` - Nuevo directorio para informes
- Pendiente: `docs/informes/informe_ejecutivo_260208.md` - Informe markdown
- Pendiente: `docs/informes/informe_ejecutivo_260208.docx` - Informe Word
- Pendiente: `docs/informes/gantt_piloto.png` - Gantt PNG
- Pendiente: `docs/informes/timeline_piloto.png` - Timeline PNG

## Flujo de Trabajo Establecido

```
Fase 1 (Completada): Preparación del Entorno
  └─→ Crear docs/informes/
  └─→ Instalar mermaid-cli

Fase 2 (Pendiente): Generación de Diagramas PNG
  └─→ Renderizar docs/gantt.md → gantt_piloto.png
  └─→ Renderizar docs/timeline.md → timeline_piloto.png

Fase 3 (Pendiente): Redacción del Informe Markdown
  └─→ Extraer contenido de journals (2026_01_28 a 2026_02_07)
  └─→ Estructurar en 6 secciones

Fase 4 (Pendiente): Conversión a Word
  └─→ pandoc markdown → docx

Fase 5 (Pendiente): Verificación y Commit
  └─→ Revisar imágenes en Word
  └─→ Commit en git
```

## Learnings

1. **pandoc 3.9** estaba preinstalado en el sistema (`/usr/bin/pandoc`), no requirió instalación.

2. **mermaid-cli 11.12.0** generó un warning sobre puppeteer (versión 23.11.1 ya no es soportada), pero funciona correctamente.

3. **Riesgo identificado**: Timeline Mermaid en `docs/timeline.md` tiene 105 líneas y puede requerir ajustes de escala para renderizar como PNG. Se debe probar en Fase 2.

4. **Sintaxis Markdown para imágenes**: Para que pandoc incluya correctamente las imágenes PNG en Word, se debe usar sintaxis estándar: `![Descripción](ruta/imagen.png)`.
